{% extends "base.html" %}
{% block content %}
<style>
body{background:linear-gradient(90deg,#1a0f00,#331a00);font-family:"Segoe UI",sans-serif;overflow-x:hidden;}
.form-container{display:flex;justify-content:center;align-items:flex-start;width:100%;padding:6vh 3vw 12vh;}
.form-box{background:linear-gradient(145deg,#804000,#4d2600);color:white;width:95%;max-width:550px;border-radius:15px;border:6px double #ffaa33;box-shadow:0 3px 12px rgba(0,0,0,0.6);padding:25px;text-align:center;}
.form-box h2{font-family:"Times New Roman";font-size:28px;font-weight:bold;}
.form-box h3{font-size:18px;color:#ffcc80;}
.btn-info-custom{border:2px solid #ffaa33;background:white;color:#4d2600;border-radius:10px;padding:8px 15px;transition:0.3s;margin-bottom:10px;}
.btn-info-custom:hover{background:#ffaa33;color:black;}
.inner-box{background:#fff0e6;border-radius:12px;padding:20px;margin-top:10px;}
.input-group{background:#ffddb3;display:flex;align-items:center;justify-content:center;border:2px solid #4d2600;border-radius:8px;padding:6px;margin:8px auto;}
.input-group span{font-size:22px;margin-right:8px;color:#4d2600;}
.input-group input{border:2px solid #4d2600;width:80%;text-align:center;border-radius:5px;padding:5px;color:#4d2600;}
.btn-calc{border:2px solid #ffaa33;background:linear-gradient(90deg,#ffaa33,#ff6600);color:white;width:85%;border-radius:10px;padding:8px;font-weight:bold;}
.btn-calc:hover{transform:scale(1.05);}
#resultado{display:none;background:#331a00;color:white;border:2px solid #ffaa33;border-radius:10px;margin-top:20px;padding:10px 15px;font-weight:bold;}
.overlay{position:fixed;top:0;left:0;width:100dvw;height:100dvh;background:rgba(40,20,0,0.8);display:none;justify-content:center;align-items:center;z-index:999;}
.definition-box{background:#fff0e6;color:#331a00;border-radius:12px;padding:25px;width:clamp(280px,90%,450px);border:4px double #ffaa33;position:relative;}
.close-btn{position:absolute;top:10px;right:15px;font-size:22px;font-weight:bold;color:#331a00;background:none;border:none;cursor:pointer;}
.close-btn:hover{color:#ff6600;}
</style>

<div class="form-container">
  <div class="form-box">
    <h2>üåê Ley de Faraday</h2>
    <h3>Œµ = -N ¬∑ (ŒîŒ¶ / Œît)</h3>

    <button id="btnInfo" class="btn-info-custom">üìò Ver definici√≥n</button>

    <div class="inner-box">
      <form id="formFaraday">
        <div class="input-group"><span>üîÑ</span><input type="number" id="input_N" placeholder="N√∫mero de espiras N" required></div>
        <div class="input-group"><span>üß≤</span><input type="number" id="input_phi" placeholder="Cambio de flujo ŒîŒ¶ (Wb)" required></div>
        <div class="input-group"><span>‚è±Ô∏è</span><input type="number" id="input_t" placeholder="Tiempo Œît (s)" required></div>
        <button type="submit" class="btn btn-calc">üßÆ Calcular</button>
      </form>
    </div>

    <div id="resultado"></div>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="definition-box">
    <button class="close-btn" id="closeOverlay">&times;</button>
    <h4>üìò Definici√≥n de la Ley de Faraday</h4>
    <p>Describe c√≥mo un cambio en el flujo magn√©tico induce una fuerza electromotriz (Œµ) en un circuito.</p>
    <ul>
      <li><strong>Œµ</strong> = Fuerza electromotriz inducida (Voltios, V)</li>
      <li><strong>N</strong> = N√∫mero de espiras</li>
      <li><strong>ŒîŒ¶</strong> = Cambio en el flujo magn√©tico (Weber, Wb)</li>
      <li><strong>Œît</strong> = Tiempo en el que ocurre el cambio (segundos, s)</li>
    </ul>
  </div>
</div>

<script>
document.getElementById("formFaraday").addEventListener("submit", e=>{
  e.preventDefault();
  const N=parseFloat(document.getElementById("input_N").value);
  const phi=parseFloat(document.getElementById("input_phi").value);
  const t=parseFloat(document.getElementById("input_t").value);
  const resultado=document.getElementById("resultado");

  if(isNaN(N)||isNaN(phi)||isNaN(t)||t===0){
    resultado.textContent="‚ö†Ô∏è Ingresa valores v√°lidos (Œît ‚â† 0)";
    resultado.style.display="block";
    return;
  }

  const emf=-N*(phi/t);
  resultado.textContent=`Fuerza electromotriz Œµ = ${emf.toLocaleString('es-CO',{maximumFractionDigits:3})} V`;
  resultado.style.display="block";
});

const overlay=document.getElementById("overlay");
document.getElementById("btnInfo").onclick=()=>overlay.style.display="flex";
document.getElementById("closeOverlay").onclick=()=>overlay.style.display="none";
overlay.addEventListener("click",e=>{if(e.target===overlay)overlay.style.display="none";});
</script>
{% endblock %}
